<html lang="ja">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<title>Spoken Dialog by Javascript</title>
<link rel="stylesheet" href="mySite.css" >
</head>
<body>

<h1>ブラックジャック</h1>

<p>
<button id="startButton">start</button>
</p>

<p>
<div id="resultOutput"></div>
</p>

<script src="https://unpkg.com/alpinejs@3.1.x/dist/cdn.min.js" defer></script>
<script src="Blackjack.js" async></script>

<div x-data="app" x-cloak>
  <div id="pcArea" class="cardArea">
    <h3>Dealer</h3>
    <template x-for="card in pcCards">
      <!-- todo: don't like the logic in template -->
      <img :src="card.showback?BACK_CARD:card.image" :title="card.showback?'':card.title">
    </template>
  </div>
  <div id="playerArea" class="cardArea">
    <h3>Player</h3>
    <template x-for="card in playerCards">
      <img :src="card.image" :title="card.title">
    </template>
  </div>
  <div id="status">
    <template x-if="playerTurn">
      <p>
        What do you do?
        <button @click="hitMe" :disabled="hitMeDisabled">Hit Me!</button>
        <button @click="stay">Stay</button>
      </p>
    </template>
    <template x-if="pcTurn">
      <p>
        <span x-text="pcText"></span>
      </p>
    </template>
    <template x-if="playerBusted">
      <p>
        You busted!
        <button @click="newGame">New Game</button>
      </p>
    </template>
    <template x-if="pcBusted">
      <p>
        Dealer busted - you win!
        <button @click="newGame">New Game</button>
      </p>
    </template>
    <template x-if="pcWon">
      <p>
        Dealer won.
        <button @click="newGame">New Game</button>
      </p>
    </template>
    <template x-if="playerWon">
      <p>
        You won!
        <button @click="newGame">New Game</button>
      </p>
    </template>
  </div>
</div>
</body>
</html>
